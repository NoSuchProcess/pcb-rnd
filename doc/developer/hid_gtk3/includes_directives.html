<html>
<body>

<h1> Some coding rule-of-thumbs in pcb-rnd </h1>

<h2> When writing .h files </h2>

<p><b>Rule 1</b>

 Look at the .h file only (ingore any .c); #include everything you need in that given file,
 directly, to let the compiler understands the structures and function
 protoypes used there.

<p><b>Rule 2</b>

 Don't be afraid to have redundant #includes (e.g. "a.h is including b.h and
 c.h while b.h also includes c.h). See also: rule 1 and rule 4.

<p><b>Rule 3</b>

 Circular #include: a.h includes b.h which in turn includes a.h - it is
 fine, just make sure typedefs and structs are available in the right order
 (relative to the #include).

<p><b>Rule 4</b>

 Frame your .h code with the usual watchdig #define's as needed:

<pre>
#ifdef  PCB_FILEA_H
#define PCB_FILEA_H

the code

#endif  /* PCB_FILEA_H */
</pre>

<p><b>Rule 6</b>

 Use pcb_ or PCB prefixing. E.g. in gtk plugins, PCB_GTK?? according to following table:

<table>
<tr><th>Directory        <th>Prefix
<tr><td>lib_gtk_common   <td>PCB_GTK_
<tr><td>lib_gtk_config   <td>PCB_GTK_
<tr><td>hid_gtk          <td>PCB_GTK2_
<tr><td>hid_gtk3         <td>PCB_GTK3_
</table>

<h2> In .c files </h2>

<p><b>Rule 1</b>

 Always #include "config.h", and make it the first include (put it
 before even &lt;stdlib&gt;). This is an essential mechanism for portability.

<p><b>Rule 2</b>

 Source a.c must include it's own header (if there is one), e.g.
 #include "a.h". This is required to get warnings if API in the header
 starts to diverge from the implementation.

<p><b>Rule 3</b>

 Look at the .c file only (ingore any .h); #include everything you need in that given file
 directly. Don't depend on random header files would include what the .c file
 needs as a side effect - the only exception is the own API definition header
 of the .c file.
 <p>
 Header rules 2 and 3 from above also apply.

<p><b>Rule 4</b>

 Please do not remove obj_*.h in favor of obj_all.h - obj_all.h is a
 temporary construct that will be gone. Do not invent such convenient
 "include all whatever headers" just to reduce the number of includes.
 Always incldue what you need directly.

</body>
</html>
