# -- This file compiles the standalone (not gpmi-dependent) version of the package.
# -- It is generated from Makefile.SA.in
# GPMI fingerprint: Makefile.SA.ext-pkg-grp

CFLAGS +=  $(INCLUDES)

include Makefile.am

CFLAGS += -DNAMESPACE=$(NAMESPACE) -DFILE_NAME=$(FILE_NAME) -DFILE_NAME_STR=\"$(FILE_NAME)\"

OUTPUT_FILE = ../$(FILE_NAME).o


all: $(OUTPUT_FILE)

include Makefile.dep

OBJS = $(SOURCE:%.c=%.o)

$(OUTPUT_FILE): $(OBJS)
	###with_fs_ld### -r $^ -o $@
	cat $(HEADER) > ../$(FILE_NAME).h

%.o: %.c
	$(CC) -c $(CFLAGS) $^ -o $@

clean:
	###with_fs_rm### $(OUTPUT_FILE) $(OBJS)

depend:
	makedepend -fMakefile.dep -Y -v -- $(CFLAGS) -- $(SOURCE)
	###with_fs_rm### Makefile.dep.bak
	@echo !! You can safely ignore any errors
