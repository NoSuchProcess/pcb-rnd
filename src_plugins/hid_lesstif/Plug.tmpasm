put /local/pcb/mod {hid_lesstif}
put /local/pcb/mod/OBJS [@
	$(PLUGDIR)/hid_lesstif/dialogs.o
	$(PLUGDIR)/hid_lesstif/library.o
	$(PLUGDIR)/hid_lesstif/main.o
	$(PLUGDIR)/hid_lesstif/menu.o
	$(PLUGDIR)/hid_lesstif/menu_lht.o
	$(PLUGDIR)/hid_lesstif/netlist.o
	$(PLUGDIR)/hid_lesstif/styles.o
	$(PLUGDIR)/hid_lesstif/stdarg.o
@]

switch /local/pcb/hid_lesstif/controls
	case {disable} end;
	default
		put /local/pcb/mod/CFLAGS [@
			@?/target/libs/gui/lesstif2/cflags@
			@?/target/libs/gui/xinerama/cflags@
			@?/target/libs/gui/xrender/cflags@
		@]

		put /local/pcb/mod/LDFLAGS [@
			@?/target/libs/gui/lesstif2/ldflags@
			@?/target/libs/gui/xinerama/ldflags@
			@?/target/libs/gui/xrender/ldflags@
		@]
		end
end

# always generate the menu lht rule so make dep can be run
append /local/pcb/CLEANFILES { $(PLUGDIR)/hid_lesstif/menu_lht.c }
append /local/pcb/DEPDEPS { $(PLUGDIR)/hid_lesstif/menu_lht.c }
append /local/pcb/RULES [@
### lesstif menu embed
$(PLUGDIR)/hid_lesstif/menu_lht.c: pcb-menu-lesstif.lht
	$(CQUOTE) -n lesstif_menu_default <pcb-menu-lesstif.lht >$(PLUGDIR)/hid_lesstif/menu_lht.c
@]


switch /local/pcb/hid_lesstif/controls
	case {buildin}   include /local/pcb/tmpasm/buildin; end;
	case {plugin}    include /local/pcb/tmpasm/plugin; end;
	case {disable}   include /local/pcb/tmpasm/disable; end;
end
